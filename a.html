<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no">
    <title>Notes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #000000;
            color: #ffffff;
            user-select: none; /* Prevent text selection */
        }
        .container {
            width: 100%;
            max-width: 600px;
            height: 100vh; /* Adjusted height to match the viewport height */
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #000000;
            background-color: #000000;
            position: relative;
        }
        .title {
            text-align: left;
            margin-bottom: 10px;
            margin-top: 10px;
            font-size: 24px;
            color: #ffffff;
        }
        .date {
            text-align: left;
            margin-bottom: 20px;
            font-style: italic;
            color: #888;
        }
        .note-content {
            max-height: 630px;
            overflow-y: auto;
            margin-bottom: 20px;
            color: #ffffff;
        }
        .note-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .note-item {
            margin-bottom: 3px;
            padding: 0%;
            border: 1px solid #000000;
            border-radius: 5px;
            background-color: #000000;
            position: relative;
        }
        .note-item:last-child {
            margin-bottom: 0;
        }
        .note-item-content {
            font-size: 16px;
        }
        .note-delete {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #ff0000;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2 class="title" id="randomItemsTitle">Random Items</h2>
        <p class="date"><span id="currentDate"></span></p>
        <div class="note-content" id="noteContent">
            <ul class="note-list" id="noteList">
                <!-- JavaScript will populate this list -->
            </ul>
        </div>
    </div>

    <script>
        // Define the list of items
        const itemList = `Toothbrush
        Soap
        Towel
        Pen
        Notebook
        Mug
        Spoon
        Fork
        Plate
        Glass
        T-shirt
        Jeans
        Shoes
        Socks
        Underwear
        Jacket
        Hat
        Scarf
        Gloves
        Belt
        Wallet
        Keys
        Phone
        Charger
        Laptop
        Backpack
        Umbrella
        Watch
        Hairbrush
        Shampoo
        Conditioner
        Razor
        Shaving cream
        Deodorant
        Perfume/Cologne
        Lip balm
        Sunscreen
        Tissues
        Toilet paper
        Trash bags
        Broom
        Dustpan
        Sponge
        Dish soap
        Laundry detergent
        Clothes hangers
        Vacuum cleaner
        Duster
        Light bulbs
        Batteries
        Flashlight
        Tape
        Scissors
        Glue
        Paper clips
        Stapler
        Envelopes
        Post-it notes
        Rubber bands
        Ruler
        Calculator
        Calendar
        Clock
        Alarm clock
        Sunglasses
        Hand sanitizer
        Face mask
        Bandages
        First aid kit
        Medicine
        Tupperware
        Can opener
        Cooking pot
        Frying pan
        Cutting board
        Knife set
        Oven mitts
        Spatula
        Ladle
        Food storage containers
        Blender
        Coffee maker
        Tea kettle
        Toaster
        Microwave
        Dish rack
        Dish towels
        Oven cleaner
        Dishwasher detergent
        Trash bin
        Recycling bin
        Compost bin
        Garden hose
        Watering can
        Lawn mower
        Gardening gloves
        Plant pots
        Seeds
        Fertilizer
        Plant fertilizer`;

        // Split the item list into an array
        const originalItemsArray = itemList.split('\n').map(item => item.trim());

        // Variables to track touch start and hold timer
        let touchStartTime;
        let holdTimer;

        // Function to handle touch start on the date element for resetting
        document.getElementById('currentDate').addEventListener('touchstart', function(event) {
            // Record the start time of the touch
            touchStartTime = new Date().getTime();

            // Start the timer for tap-and-hold
            holdTimer = setTimeout(function() {
                // Call the resetToInitialState function when holding the date element
                resetToInitialState();
            }, 1000); // Adjust the duration for tap-and-hold as needed
        });

        // Function to handle touch end on the date element
        document.getElementById('currentDate').addEventListener('touchend', function(event) {
            // Calculate the duration of the touch
            const touchDuration = new Date().getTime() - touchStartTime;

            // If the touch duration is less than 500 milliseconds, consider it a tap
            if (touchDuration < 500) {
                // Perform actions for tap (e.g., fetch data from API)
                clearTimeout(holdTimer); // Cancel the tap-and-hold timer
                fetchDataFromAPI();
            }
        });

        // Function to fetch data from the API
        function fetchDataFromAPI() {
            // Perform an HTTP request to get information from the endpoint
            fetch('https://11z.co/_w/16233/selection')
                .then(response => response.json())
                .then(data => {
                    const forceWord = data.value;
                    if (forceWord) {
                        // Store the fetched force word
                        storedForceWord = forceWord;

                        // Set the flag to indicate a force word has been entered
                        forceWordEntered = true;

                        // Set the flag to indicate a force word has been retrieved from the API
                        forceWordRetrieved = true;

                        // Alert with the fetched force word
                        alert("Fetched data: " + forceWord);
                    } else {
                        alert("Failed to retrieve force word from the API.");
                    }
                })
                .catch(error => {
                    console.error("Failed to fetch force word:", error);
                    alert("Failed to retrieve force word from the API. Please try again later.");
                });
        }

        // Function to reset everything to its initial state
        function resetToInitialState() {
            // Reset the content of all items back to their original state
            Array.from(noteList.querySelectorAll('.note-item')).forEach((item, index) => {
                const content = item.querySelector('.note-item-content');
                content.textContent = `${index + 1}. ${originalItemsArray[index]}`;
            });

            // Reset the current date display
            getCurrentDate();

            // Reset the stored force word
            storedForceWord = "";

            // Alert the user that the reset is successful
            alert("Reset to initial state successfully.");
        }

        // Function to get the current date and display it three days earlier
        function getCurrentDate() {
            var currentDate = new Date();
            currentDate.setDate(currentDate.getDate() - 3); // Subtract three days
            
            var dayOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            var monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

            var day = currentDate.getDate();
            var dayName = dayOfWeek[currentDate.getDay()];
            var monthName = monthNames[currentDate.getMonth()];
            var year = currentDate.getFullYear();

            var formattedDate = dayName + ', ' + day + ' ' + monthName + ' ' + year;
            document.getElementById('currentDate').textContent = formattedDate;
        }

        // Populate the note list with items
        originalItemsArray.forEach((item, index) => {
            const li = document.createElement('li');
            li.className = 'note-item';
            const content = document.createElement('span');
            content.className = 'note-item-content';
            content.textContent = `${index + 1}. ${item}`; // Add number to the item
            li.appendChild(content);
            document.getElementById('noteList').appendChild(li);
        });

        // Call the function to display the current date three days earlier when the page loads
        getCurrentDate();
    </script>
</body>
</html>
