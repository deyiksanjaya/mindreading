<body>
    <header>
        <h1>I Know Your Thought</h1>
    </header>

    <section>
        <div class="input-overlay" id="inputOverlay">
            <input type="text" placeholder="Say the mantra..." onfocus="clearPlaceholder()" onblur="restorePlaceholder()" id="imageQueryInput">
            <button onclick="startMindReading()">Read my mind</button>
        </div>
        <div class="text-overlay" id="textOverlay">
            <div class="con" id="con">
                <p class="con-text">Concentrate on your thought...</p>
            </div>
        </div>
        <h2>Welcome to This Magical Journey</h2>
        <p>Think of anything. When you are ready, say the mantra.</p>
        <img src="https://i.ibb.co/dm2HC22/genie.png" alt="Genie Image">
    </section>

    <footer>
        <p>&copy; 2023 Mind Reading Genie. All rights reserved.</p>
    </footer>

    <script>
        var originalInput;
        var doubleClicked = false;
        var mindReadingStarted = false;

        document.body.addEventListener('dblclick', function (event) {
            handleDoubleclick(event);
        });

        document.body.addEventListener('touchstart', function (event) {
            if (event.touches.length === 2) {
                handleDoubleclick(event);
            }
        });

        function handleDoubleclick(event) {
            var inputElement = document.getElementById("imageQueryInput");

            if (!inputElement.contains(event.target) && event.target !== document.querySelector("button")) {
                doubleClicked = true;
                originalInput = inputElement.value;
                inputElement.value = "all hail the mind readers";
                inputElement.classList.add("masked");
            }
        }

        function startMindReading() {
            if (!mindReadingStarted) {
                mindReadingStarted = true;
                var inputOverlay = document.getElementById("inputOverlay");
                var con = document.getElementById("con");

                inputOverlay.classList.add("fade-out");
                con.classList.add("fade-in");

                document.getElementById("imageQueryInput").disabled = true;
                document.querySelector("button").disabled = true;

                var userTypedText = originalInput.trim();

                if (doubleClicked && userTypedText !== "") {
                    setTimeout(function () {
                        var searchURL = "https://www.google.com/search?tbm=isch&q=" + encodeURIComponent(userTypedText);
                        window.location.href = searchURL;
                    }, 5000); // Wait for 5 seconds before redirecting
                }
            }
        }

        function clearPlaceholder() {
            var inputElement = document.getElementById("imageQueryInput");
            if (inputElement.value !== "") {
                inputElement.placeholder = "";
            } else {
                inputElement.placeholder = "Say the mantra...";
            }
        }

        function restorePlaceholder() {
            var inputElement = document.getElementById("imageQueryInput");
            if (inputElement.value === "") {
                inputElement.placeholder = "Say the mantra...";
            }
        }
    </script>
</body>

</html>
