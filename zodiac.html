<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fimela</title>
  <style>
    /* CSS styles remain the same */
    body {
      font-family: Arial, sans-serif;
      background-color: #ffffff; /* White background */
      margin: 0;
      padding: 0;
      min-height: 100vh; /* Ensure body takes up at least the full viewport height */
      display: flex;
      flex-direction: column; /* Align children vertically */
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      text-align: center;
      flex-grow: 1; /* Allow container to grow to fill available space */
    }
    p {
      color: #333; /* Dark text color */
    }
    .search-bar {
      width: 100%;
      max-width: 400px;
      margin: 20px auto;
      padding: 10px;
      border: 2px solid #ff0066; /* Pink border */
      border-radius: 5px;
      box-sizing: border-box;
    }
    .footer {
      text-align: center;
      color: #999; /* Gray text color */
      margin-top: auto; /* Push the footer to the bottom */
      width: 100%;
      padding: 20px 0; /* Add some padding for better visual appearance */
      background-color: #f9f9f9; /* Light gray background */
    }
    .footer img {
      width: 100px;
      height: 100px;
      margin-top: 20px;
    }
    /* New CSS for popup */
    .popup {
      display: flex;
      align-items: center;
      justify-content: center;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 9999;
    }
    .popup-content {
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
    }
  </style>
<script>
      // Function to prevent screen from going off
      function preventScreenOff() {
      // Your logic to prevent screen off goes here
      // For example, you can use the Wake Lock API if supported by the browser
      // Here's a simple example to prevent screen off for demonstration
      const wakeLock = navigator.wakeLock;
      if (wakeLock) {
        wakeLock.request('screen').then(() => {
          console.log('Screen wake lock is active');
          // You can add further actions if needed
        }).catch((error) => {
          console.error('Failed to acquire screen wake lock:', error);
        });
      } else {
        console.error('Wake Lock API is not supported');
      }
      // Hide the popup after preventing screen off
      document.getElementById('popup').style.display = 'none';
    }

    // Event listener for the button to prevent screen off
    document.getElementById('preventScreenOff').addEventListener('click', () => {
      preventScreenOff();
    });
  // Function to fetch starSign data from API
  async function fetchStarSign() {
    try {
      const response = await fetch('https://app.ellusionist.com/webapi/cipher-peek-output-getPeek-api.php?licenseKey=AP1068MX');
      const data = await response.json(); // Assuming the API returns JSON data
      return data.starSign.toLowerCase(); // Convert to lowercase
    } catch (error) {
      console.error('Error fetching starSign data:', error);
      return null;
    }
  }

  // Function to perform Wikipedia search and replace address bar URL
  function performWikipediaSearch(query) {
    const searchQuery = encodeURIComponent(query).replace(/%20/g, '+');
    const searchUrl = `https://www.fimela.com/zodiak/${searchQuery}`;
    window.location.replace(searchUrl); // Replace the current page with the Wikipedia search URL
    window.history.replaceState({}, document.title, "https://www.finela.com"); // Replace the address bar URL
  }

  // Function to wait for a change in API value and perform search
  async function waitForApiChangeAndSearch() {
    let previousStarSign = await fetchStarSign(); // Set initial value
    while (true) {
      const currentStarSign = await fetchStarSign();
      if (!currentStarSign) continue; // Retry if API call fails

      if (currentStarSign !== previousStarSign) {
        // Value has changed, trigger Wikipedia search
        performWikipediaSearch(currentStarSign.toLowerCase()); // Convert to lowercase before redirection
        // Optionally, you can add a delay here if you want to wait a bit before disappearing the page
        return; // Exit the function to "disappear" the page
      }

      // Wait for 5 seconds before checking again (adjust as needed)
      await new Promise(resolve => setTimeout(resolve, 1000));
    }
  }

  // Start waiting for API changes and performing search
  waitForApiChangeAndSearch();

  // Replace address bar URL when the page loads
  window.addEventListener('load', () => {
    window.history.replaceState({}, document.title, "https://www.finela.com");
  });
  <div class="popup" id="popup">
    <div class="popup-content">
      <p>This button prevents the screen from going off:</p>
      <button id="preventScreenOff">Prevent Screen Off</button>
    </div>
  </div>
</script>
</head>
<body>
  <div class="container">
    <img src="https://cdn1-production-assets-kly.akamaized.net/logos/841/original/037795600_1682647756-Fimela.png" alt="Fimela logo" style="width: 200px; margin-bottom: 20px;">
    <p>Get insights into your zodiac sign!</p>
    <input type="text" class="search-bar" placeholder="Search zodiac sign...">
  </div>
  <div class="footer">
    <p>Powered by Fimela</p>
  </div>
</body>
</html>
